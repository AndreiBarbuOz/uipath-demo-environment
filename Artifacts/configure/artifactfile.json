{
  "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2016-11-28/dtlArtifacts.json",
  "title": "Configure VM",
  "publisher": "Andrei Barbu",
  "description": "Runs the configuration script",
  "tags": [
    "Windows",
    "UiPath"
  ],
  "parameters": {
    "connectionString": {
      "type": "string",
      "defaultValue": "",
      "displayName": "MongoDB connection string",
      "description": "Connection string for the MongoDB configuration repository"
    },
    "username": {
      "type": "string",
      "defaultValue": "",
      "displayName": "Windows user",
      "description": "username"
    },
    "password": {
      "type": "string",
      "defaultValue": "",
      "displayName": "password",
      "description": "password"
    }
  },
  "targetOsType": "Windows",
  "runCommand": {
    "commandToExecute": "[concat('python ./config.py -c \"', parameters('connectionString'), '\"', ' -u ', parameters('username'), ' -p ', parameters('password')) ]"
  }
}